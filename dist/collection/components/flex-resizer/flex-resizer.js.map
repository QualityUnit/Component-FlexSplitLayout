{"version":3,"file":"flex-resizer.js","sourceRoot":"","sources":["../../../src/components/flex-resizer/flex-resizer.tsx"],"names":[],"mappings":"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","sourcesContent":["import {Component, Element, h, Listen, Method, Prop, Watch} from '@stencil/core';\n\n@Component({\n  tag: 'flex-resizer',\n  styleUrl: 'flex-resizer.css',\n  shadow: false,\n  scoped: true\n})\nexport class FlexResizer {\n  @Prop() depth: number = 0;\n  @Prop() overrideIframe: boolean = true;\n  @Prop() name: string = \"\";\n  @Prop() save: boolean = true;\n  @Element() el: HTMLElement;\n  @Prop() disabled: boolean = false;\n\n  private resizing: boolean = false;\n  private a: HTMLElement;\n  private b: HTMLElement;\n  private aOriginalGrow: number\n  private bOriginalGrow: number\n  private psize: number;\n  private nsize: number;\n  private totalHeight: number;\n  private totalFlexGrow: number;\n  private resizeCurrentPos: number;\n  private startPos: number;\n  private getElementSize: (arg: HTMLElement) => number;\n  private getPosition: (arg: MouseEvent | Touch) => number;\n  private direction: number = 1;\n  private cursor: string;\n\n  constructor() {\n    this.resizeStart = this.resizeStart.bind(this);\n    this.resize = this.resize.bind(this);\n    this.resizeEnd = this.resizeEnd.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n  }\n\n  render() {\n    return <div></div>;\n  }\n\n  @Listen('mousedown', {passive: false})\n  @Listen('touchstart')\n  resizeStart(event: MouseEvent | TouchEvent) {\n    let element = this.normalizeDepth();\n    this.a = element.previousElementSibling as HTMLElement;\n    this.b = element.nextElementSibling as HTMLElement;\n    if (this.a === null || this.resizing) {\n      console.log(\"Nothing to resize\");\n      return;\n    }\n    this.totalFlexGrow = parseFloat(getComputedStyle(this.a)[\"flex-grow\"]) + parseFloat(getComputedStyle(this.b)[\"flex-grow\"])\n    this.aOriginalGrow = getComputedStyle(this.a)[\"flex-grow\"];\n    this.bOriginalGrow = getComputedStyle(this.b)[\"flex-grow\"];\n    if (this.totalFlexGrow === 0) {\n      console.log(\"Cannot resize - no flex-grow\");\n      return;\n    }\n    let flexDirection = \"\" + getComputedStyle(element.parentElement).flexDirection;\n    switch (flexDirection) {\n      case \"column-reverse\":\n      case \"column\":\n        this.getElementSize = e => e.clientHeight;\n        this.getPosition = e => e.screenY;\n        break;\n      case \"row-reverse\":\n      default:\n        this.getElementSize = e => e.clientWidth;\n        this.getPosition = e => e.screenX;\n    }\n    this.direction = flexDirection.endsWith(\"-reverse\")? -1: 1;\n    this.psize = this.computeSize(this.a);\n    this.startPos = this.getPosition(this.handleResizeEvent(event));\n    this.resizeCurrentPos = this.startPos;\n    this.nsize = this.computeSize(this.b);\n    this.totalHeight = this.psize + this.nsize;\n    document.body.style.cursor = this.cursor\n\n    this.resizing = true;\n    event.preventDefault();\n    if (this.overrideIframe) {\n      for (let iframe of document.getElementsByTagName(\"iframe\")) {\n        iframe.style.pointerEvents = \"none\";\n      }\n    }\n    window.addEventListener(\"mousemove\", this.resize);\n    window.addEventListener(\"touchmove\", this.resize);\n    window.addEventListener(\"mouseup\", this.resizeEnd);\n    window.addEventListener(\"touchend\", this.resizeEnd);\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown(ev: KeyboardEvent) {\n    if (ev.key === \"Escape\") {\n      this.cancelResize()\n    }\n  }\n\n  cancelResize() {\n    this.a.style[\"flex-grow\"] = this.aOriginalGrow;\n    this.b.style[\"flex-grow\"] = this.bOriginalGrow;\n    this.resizeEnd();\n  }\n\n  private localStorageKey = \"flex-resizer-\" + this.name;\n\n  resizeEnd() {\n    if (this.save) {\n      localStorage.setItem(this.localStorageKey + \"a\", this.a.style[\"flex-grow\"]);\n      localStorage.setItem(this.localStorageKey + \"b\", this.b.style[\"flex-grow\"]);\n    }\n    window.removeEventListener(\"mousemove\", this.resize);\n    window.removeEventListener(\"mouseup\", this.resizeEnd);\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n    window.removeEventListener(\"touchmove\", this.resize);\n    window.removeEventListener(\"touchend\", this.resizeEnd);\n\n    this.resizing = false;\n    document.body.style.cursor = 'default';\n    if (this.overrideIframe) {\n      for (let iframe of document.getElementsByTagName(\"iframe\")) {\n        iframe.style.pointerEvents = \"auto\";\n      }\n    }\n  }\n\n  resize(event: MouseEvent) {\n    event.preventDefault();\n    let pos = this.getPosition(this.handleResizeEvent(event));\n    let delta = (pos - this.resizeCurrentPos) * this.direction;\n    this.psize += delta;\n    this.nsize -= delta;\n\n    if (this.psize < 0) {\n      this.nsize += this.psize;\n      pos -= this.psize;\n      this.psize = 0;\n    }\n    if (this.nsize < 0) {\n      this.psize += this.nsize;\n      pos += this.nsize;\n      this.nsize = 0;\n    }\n    let prevGrowNew = this.totalFlexGrow * (this.psize / (this.totalHeight));\n    let nextGrowNew = this.totalFlexGrow * (this.nsize / (this.totalHeight));\n\n    this.resizeCurrentPos = pos;\n    this.a.style[\"flex-grow\"] = prevGrowNew;\n    this.b.style[\"flex-grow\"] = nextGrowNew;\n  }\n\n  computeSize(element: HTMLElement) {\n    let style = getComputedStyle(element);\n    let delta = 0;\n    let basis = \"\" + style[\"flex-basis\"];\n    let value = parseFloat(basis);\n    if (basis.endsWith(\"px\")) {\n      delta -= value;\n    }\n    if (basis.endsWith(\"%\")) {\n      delta -= this.getElementSize(element.parentElement) * value / 100;\n    }\n    return this.getElementSize(element) + delta;\n  }\n\n  handleResizeEvent(event: TouchEvent | MouseEvent): Touch | MouseEvent {\n    if (window.TouchEvent && event instanceof TouchEvent) {\n      return event.touches.item(0);\n    }\n    if (window.MouseEvent && event instanceof MouseEvent) {\n      return event;\n    }\n  }\n\n  normalizeDepth() {\n    let element = this.el;\n    for (let i = 0; i < this.depth; i++) {\n      element = element.parentElement;\n    }\n    return element;\n  }\n\n  /**\n   * Public method to refresh the component layout and restore saved sizes\n   */\n  @Method()\n  async refresh() {\n    this.initialize();\n  }\n\n  private initialize() {\n    const element = this.normalizeDepth();\n    if (getComputedStyle(element.parentElement)[\"flex-direction\"] == \"column\" || getComputedStyle(element.parentElement)[\"flex-direction\"] == \"column-reverse\") {\n      this.el.classList.remove(\"row-resizer\");\n      this.el.classList.add(\"column-resizer\");\n      this.cursor = \"row-resize\";\n    } else {\n      this.el.classList.remove(\"column-resizer\");\n      this.el.classList.add(\"row-resizer\");\n      this.cursor = \"col-resize\";\n    }\n    if (this.disabled) {\n      element.style.display = \"none\";\n      return;\n    }\n    this.a = element.previousElementSibling as HTMLElement;\n    this.b = element.nextElementSibling as HTMLElement;\n    let savedA = localStorage.getItem(this.localStorageKey + \"a\");\n    if (savedA == null || !this.save) {\n      return;\n    }\n    this.a.style[\"flex-grow\"] = savedA;\n    this.b.style[\"flex-grow\"] = localStorage.getItem(this.localStorageKey + \"b\");\n  }\n\n  connectedCallback() {\n    this.initialize();\n  }\n\n  @Watch(\"name\")\n  watchName(name: string) {\n    this.localStorageKey = \"flex-resizer-\" + name\n    this.initialize();\n  }\n\n  @Watch(\"disabled\")\n  watchDisabled(disabled: boolean) {\n    let element = this.normalizeDepth();\n    if (disabled) {\n      this.a.style[\"flex-grow\"] = null;\n      this.b.style[\"flex-grow\"] = null;\n    } else {\n      this.initialize();\n    }\n    element.style.display = disabled ? \"none\" : \"block\";\n  }\n}\n"]}